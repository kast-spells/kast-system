# Deployment with External Secrets Example
# Shows how to reference external secrets (e.g., created by vault) in envFrom

name: app-with-external-secrets
namespace: test

image:
  repository: nginx
  tag: latest

# Workload configuration
workload:
  enabled: true
  type: deployment
  replicas: 1

# Service configuration  
service:
  enabled: true
  ports:
    - port: 80
      name: http

# Environment variables
envs:
  APP_ENV: production
  LOG_LEVEL: info

# Reference external secrets (e.g., created by vault glyphs)
# These secrets already exist in the cluster
secrets:
  api-credentials:
    contentType: env  # This makes summon include it in envFrom
  database-credentials:
    contentType: env  # Another secret to include in envFrom
  config-data:
    contentType: file  # This won't be included in envFrom (contentType is not "env")

serviceAccount:
  enabled: true