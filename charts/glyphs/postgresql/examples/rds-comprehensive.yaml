spellbook:
  name: test-postgresql-rds
  chapters:
    - rds-databases

chapter:
  name: rds-databases

glyphs:
  postgresql:
    production-rds:
      type: rds-instance-db
      description: Production AWS RDS PostgreSQL instance with comprehensive configuration

      # Required fields
      dbInstanceClass: db.m5.large ##REQUERIDO
      dbInstanceIdentifier: production-rds-postgres ##REQUERIDO
      engine: postgres ##REQUERIDO
      engineVersion: "17.5"
      parameterGroupName: production-postgres-params

      # Master credentials (se puede usar secretRef?)
      masterUsername: postgres ##REQUERIDO
      masterUserPassword: ##REQUERIDO
        name: rds-master-password
        key: password

      # Database configuration
      dbName: production_db
      allocatedStorage: 100

      # Networking
      networking:
        dbSubnetGroupName: production-db-subnet-group  ##REQUERIDO
        vpcSecurityGroupIDs: ##REQUERIDO
          - sg-12345678abcdef
        publiclyAccessible: false ##REQUERIDO (?)
        multiAZ: true ##REQUERIDO (?)
        availabilityZone: us-east-1a
        port: 5432
