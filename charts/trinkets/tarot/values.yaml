# Tarot Trinket Default Values
# Dynamic workflow composition system

# Tarot configuration - Dynamic workflow composition
tarot:
  # Execution mode: container|dag|steps|suspend
  executionMode: dag

  # Cluster-wide template reference (optional)
  # template: standard-ci-template

  # Dictionary-based card reading
  reading:
    # Default empty reading to pass syntax validation
    _syntax_test:
      position: foundation
      container:
        image: busybox:latest
        command: ["echo", "default"]
    # Example structure:
    # checkout:
    #   selectors: {category: source, vcs: git}
    #   position: foundation
    # build:
    #   selectors: {category: build, builder: docker}
    #   position: action
    #   depends: [checkout]

  # ServiceAccount for workflow execution
  serviceAccount:
    enabled: true
    name: tarot-runner
    labels: {}
    annotations: {}
      # Vault integration example:
      # vault.hashicorp.com/role: tarot-vault-role

  # RBAC for workflow
  rbac:
    enabled: true
    # Custom rules can be added here
    # rules: []

  # Workflow-specific secrets (unified K8s and Vault)
  secrets: {}
    # K8s Secret example:
    # local-config:
    #   contentType: env
    #   content:
    #     CONFIG_KEY: "value"
    #
    # Vault Secret example:
    # docker-creds:
    #   location: vault
    #   path: chapter
    #   format: env
    #   keys: [DOCKER_USER, DOCKER_PASS]
    #
    # Vault with random password:
    # api-key:
    #   location: vault
    #   path: chapter
    #   random: true
    #   randomKey: API_KEY
    #
    # Vault with static data:
    # mixed-secret:
    #   location: vault
    #   path: chapter
    #   keys: [DB_PASS]
    #   staticData:
    #     DB_HOST: "localhost"

  # Workflow-specific environment variables
  envs: {}
    # Example:
    # REGISTRY_URL: "registry.company.com"

  # Workflow-specific volumes
  volumes: {}
    # Example:
    # workspace:
    #   type: emptyDir
    #   sizeLimit: 5Gi

  # Workflow-specific configmaps
  configMaps: {}

  # Workflow arguments
  arguments:
    parameters: []

  # Workflow metadata
  generateName: true
  labels: {}
  annotations: {}

# Cards system integration
cards:
  # Default card for syntax validation
  _syntax_test:
    type: card
    labels:
      cardType: test
    container:
      image: busybox:latest
      command: ["echo", "default"]
  # Will be populated from bookrack appendix.cards
  # via librarian card consolidation

# Book/Chapter system integration (for runic indexer and vault glyph)
spellbook:
  name: tarot

chapter:
  name: default

# Lexicon system integration (for cluster templates and vault servers)
lexicon: {}
  # Example vault server configuration:
  # default-vault:
  #   type: vault
  #   labels:
  #     default: book
  #   server: vault.vault.svc.cluster.local:8200
  #   secretPath: secret
  #   auth:
  #     kubernetes:
  #       path: kubernetes
  #       role: tarot-vault-role
  # Will be populated from bookrack appendix.lexicon via librarian

# RBAC configuration
rbac:
  enabled: true

# Service Account configuration (used by summon glyph)
serviceAccount:
  enabled: true
  name: tarot-runner
  labels: {}
  annotations: {}
  # Vault integration example:
  # annotations:
  #   vault.hashicorp.com/role: tarot-vault-role
  
# Volume management
volumes: []

# Node selection and affinity
nodeSelector: {}
tolerations: []
affinity: {}

# Resource management
resources:
  limits: {}
  requests: {}

# Security context
securityContext: {}