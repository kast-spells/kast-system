# Example TDD Book - Comprehensive Demo
# This book serves as both documentation and TDD testing for the librarian system

name: example-tdd-book
description: "Comprehensive example showing all kast-system features for TDD validation"

# Chapters define the deployment sequence
chapters:
  - infrastructure  # Core infrastructure components
  - applications   # Application deployments

# Global ArgoCD configuration
projectName: example-tdd-project
argocdNamespace: argocd

# Global app parameters applied to all applications
appParams:
  cleanDefinition: false
  noHelm: false
  disableAutoSync: false
  skipCrds: false
  syncPolicy:
    automated:
      prune: true
      selfHeal: true
    syncOptions:
      - CreateNamespace=true
      - PrunePropagationPolicy=foreground
      - PruneLast=true
    retry:
      limit: 2
      backoff:
        duration: 5s
        factor: 2
        maxDuration: 3m

# Summon configuration (for application spells)
summon:
  repository: ghcr.io/kast-spells/summon
  chart: summon
  revision: 0.1.0

# Kaster configuration (for infrastructure spells with glyphs)
kaster:
  repository: ghcr.io/kast-spells/kaster  
  chart: kaster
  revision: 0.1.0

# Default cluster targeting
clusterSelector:
  environment: development